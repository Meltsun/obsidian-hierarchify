我有必要为自己编写的一个markdown插件来加快记笔记的效率，顺便学习一下ts。这个插件需要做的事情基本上是用mdast把笔记转化为AST，进行一些操作，然后转回来。

# 功能
1. 为标题添加序号
1. 标题列表互转。包括标题转列表、标题转其他等级的标题、列表转标题。**在转换时会对所选择的标题下（或列表中）的内容做递归的处理，从而保留笔记结构。**
1. 标题和文件互转。把即把一个笔记按照顶级标题拆分，或者把一个文件夹下的所有笔记合并。合并和拆分笔记时会适当的调节顶级标题的等级
1. TODO:根据文件树添加链接。为一个文件夹创建同名的文件夹笔记，然后为笔记添加链接到每个父文件夹的链接。**这允许我同时使用zk和文件夹树。**我应当尽快抽空研究一下这个功能怎么实现，这对我来说很有用。
1. TODO:把所有链接到此笔记的笔记合并到此笔记（或此文件夹）
1. TODO:把一个笔记或标题移动到其链接到的文件夹下或笔记后

# 问题
1. 总之测试还不够，还有很多bug。目前所有功能都不应该删除文件或一次修改多个文件。
2. mdast-util-to-markdown的部分行为似乎有点奇怪，例如会在有序列表项的序号和文字之间添加两个空格等。这些行为与obsidian编辑器的默认行为以及我的习惯不同，因而导致了一些一致性问题。我目前并不能看懂源代码，也不清楚如何控制它的行为，只能将信将疑的修改了部分代码并调整了部分obsidian设置来保证最低限度的一致性。回头有时间在研究吧。
## 序号处理
1. 代码块有bug
1. 嵌套列表如果不以1开始不会被识别为列表
## 标题转列表
1. 目前总是会新建列表。希望如果之前已经存在列表则合并之

